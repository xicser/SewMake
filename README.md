# 概述

- 这个仓库展示了`工业缝制花型设计软件SewMake`项目的一些功能，主要包含`远程升级`、`CAD绘图`、`花型设计`、`撤销与重做`等功能的展示，由于该项目`已经商用`，经过询问源码只能开源`部分代码`，同时展示一些`使用功能`，请您见谅🙏。

- 目录说明：
  > `http_server`：远程升级用的http服务器。

  > `sew_client`：客户端软件部分源代码。

  > `images`：本README.md相关图片资源文件。

- 下面的动图如果看不清，您可以点击图片<font color=#FF0000 > 放大 </font>查看。


# 主要功能
SewMake的功能主要分为两个主要部分。
- <font color=#FF0000 >花型浏览：</font>可以实现对已有花型文件的移动、旋转、镜像、图层变换、缝纫点针距设置等功能。同时可以设置批量处理（同时对同一个图层上的所有花型进行统一设置）。
<img src="images/主界面.jpg" alt="formation flight" width="1920">
- <font color=#FF0000 >花型设计：</font>当现有花型不能满足要求的时候，用户可以设计自己需要的花型。SewMake支持可以像CAD绘图一样的花型设计。
<img src="images/花型设计界面.jpg" alt="formation flight" width="1920">

# 重要功能展示
针对上面提到的两大功能模块，下面展示一些SewMake的重要功能。

## CAD绘图功能
SewMake可以像CAD一样设计自己需要的缝纫花型，目前支持的花型包括：`直线`、`弧线`、`曲线`、`矩形`、`多边形`、`三点圆`、`椭圆`、`中心圆`。
<img src="images/CAD绘图.gif" alt="formation flight" width="1920">

绘图原理是使用了状态机的思想，对每个图形的绘制状态进行枚举，鼠标点击引起状态切换。

## 远程升级
SewMake在启动的时候会自动检查更新，当然也可以手动更新，下面这幅图展示了它的自动更新功能。
<img src="images/远程升级.gif" alt="formation flight" width="1920">
远程升级的时候，SewMake会去http服务器上获取最新版本的软件，然后经过MD5校验，此后解压软件包，确认无误才会更新本地的旧版本软件。

>使用libevent库在云服务器上实现了远程升级中要使用的http服务器。

## 模拟缝纫
设计好缝纫花型后，可以进行模拟缝纫，以观察实际的缝纫效果是否符合预期。
<img src="images/模拟缝纫.gif" alt="formation flight" width="1920">

## 花型设计
除了可以打开现有的缝纫花型文件，当当前花型文件不满足要求时，用户可以设计自己需要的花型，因为我们开发了花型设计功能供用户使用。
<img src="images/花型设计.gif" alt="formation flight" width="1920">

## 定位设置
在花型设计过程中，有时候需要把线连接到已有的线上，通过定位设置，可以让鼠标自动附着在已有的线上，不用用户自己点击线，能方便用户使用。
<img src="images/定位到轮廓线.gif" alt="formation flight" width="1920">
上图中可以看到，当选中`定位到轮廓线`时，在绘制图形的过程中，鼠标会自动定位到已有的线上。

## 撤销与重做
既然时图形编辑，难免存在做错了想要撤销或者重做，我们实现了这一功能。
<img src="images/撤销与重做.gif" alt="formation flight" width="1920">

## 批量处理
批量处理可以对同一图层上的所有图形进行设置，如下图所示，当前缝纫花型共有6个图层，图层1上共有19个图形，现在可以方便的使用批量处理功能对图层1上的所有19个图形进行一次性设置。
<img src="images/批量处理.gif" alt="formation flight" width="1920">
可设置的内容包括改变图形头尾长度、镜像、旋转等等。

# 其他功能
上面主要列举了一种比较重要的功能点，其他功能都是一些小功能，涉及内容较多，就不展示了🙏。
